<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>cn.org.wangchangjiu.table2Entity</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Table2Entity</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="1558263804@qq.com" url="https://juejin.cn/user/3737995265185528">changjiu.wang</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    <h1>table2Entity </h1><br>
    <p>A plugin for automatically generating Java entity class objects through SQL table building statements</p><br>
    <p>Plugin Code Warehouse：<a href="https://gitee.com/listen_w/table2Entity">https://gitee.com/listen_w/table2Entity</a></p><br>
    <p>Digging Gold Personal Blog：<a href="https://juejin.cn/user/3737995265185528">https://juejin.cn/user/3737995265185528</a> </p>

    <h1>use</h1>
    <ul>
      <li>Install plug-in</li>
      <li>Right-click on a single machine, select table2Entity, select the package path generated by the code in the pop-up box, enter SQL table creation statements, and then generate a Java entity class</li>
    </ui>

    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <!--通过类生成代码，需要依赖Java插件-->
    <depends>com.intellij.modules.java</depends>

    <idea-version since-build="221" until-build="231.*"/>

    <change-notes>
        <![CDATA[
          1.1.2
          <ul>
            <li>fix bug<li>
          <ul>

          1.1.1
          <ul>
            <li>Repair the configuration persistence failure bug<li>
          <ul>

          1.1.0
          <ul>
            <li>Move the code generation path to the setting configuration</li>
            <li>After the project is opened, add a check path configuration and remind</li>
            <li>Add path configuration persistence</li>
            <li>Add verification to the input box</li>
          </ul>

          Add support for latest IDEs 2022.3.3
        ]]>
    </change-notes>


    <actions>
        <action id="table2Entity" class="cn.org.wangchangjiu.table2entity.action.Table2EntityAction"
                description="table2Entity" text="table2Entity" icon="/icons/table2Entity.png">
            <keyboard-shortcut first-keystroke="control shift 9" keymap="$default"/>
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>
    </actions>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- 设置 面板 配置-->
        <!-- parentId 为 tools 表示放在 tools工具下面，parentId
                      支持的属性值有：appearance、build、build.tools、tools、language、editor、project，other，若我们想把配置项声明为顶级，则配置属性值为 root 。
             instance: 实现了 Configurable 接口的类路径,在插件配置被点击时，IntelliJ 平台会创建该实例对象.
             displayName: 显示名称，该名字会显示在 Settings/Preferences 中，必须与代码实现的 String getDisplayName() 返回值一致，否则可能出现未知错误。
         -->
        <applicationConfigurable parentId="tools"
                instance="cn.org.wangchangjiu.table2entity.extension.Table2EntitySettingConfigurable"
                id="cn.org.wangchangjiu.table2EntitySettingConfigurable"
                displayName="table2Entity"/>

        <!--
        projectService 表示每个项目一个缓存，各个项目独立，
        applicationService 表示持久化配置是服务于应用级别，所有项目都使用这个配置

        这里用 projectService 的好处就是，每个项目的 entity 包路径是不同的，各自维护
        -->
        <projectService serviceImplementation="cn.org.wangchangjiu.table2entity.extension.Table2EntityConfigSettingCache"/>
    </extensions>

    <projectListeners>
        <!-- 检查设置监听器 -->
        <listener class="cn.org.wangchangjiu.table2entity.listener.PathConfigSettingListener"
                  topic="com.intellij.openapi.project.ProjectManagerListener"/>
    </projectListeners>
</idea-plugin>
